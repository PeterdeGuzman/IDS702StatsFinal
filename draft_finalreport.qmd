---
title: "The Effects of Racial Identity and Discrimination on Political Participation and Political Attitudes"
author: "Peter de Guzman, Jennifer Li, Nakiyah Dhariwala, Sizhe Chen"
format: html
date: 2024-12-08
editor: visual
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  message = FALSE,   # Suppress messages
  warning = FALSE    # Suppress warnings
)
```

```{r echo = FALSE}
# Libraries
library(tidyverse)  
library(pROC)
library(vcd)
library(car)
library(MASS) # package for model
library(caret) # package for confusion matrix
library(janitor)
library(brant)
library(knitr)
library(gt)
```

```{r echo = FALSE, results = FALSE}
file_path <- "//Users/pdeguz01/Documents/git/Data/2020 CMPS/DS0001/39096-0001-Data.rda"

load(file_path)          # Load the RDA file
ls()                     # List objects loaded into the environment
dataset <- da39096.0001  # Access the dataset

```

```{r echo = FALSE, results = FALSE}
# Define the required columns
required_cols <- c(
  # Outcome Variable: Stopping discrimination against racial/ethnic minorities
  "Q1R5", 
  
  # Outcome Variable: Level of Political Interest
  "Q29",
  
  # Predictor: Importance of Racial Belonging
  "Q271",
  
  # Predictor: Party ID
  "Q21",

  # Demographic Variables
  "S2_RACE_PRIME",   # Primary Race
  "S3",              # SexualOrientation
  "S3B",             # Gender
  "S5_AGE",          # Age categories
  "S13",             # Highest level of education
  "S14",             # Community lived in

  # Variables capturing experiences with racism
  "Q629R1",          # Unfair treatment due to racial background/ethnicity
  "Q629R2",          # Unfair treatment due to skin color
  "Q629R3",          # Unfair treatment due to gender
  "Q629R4",          # Unfair treatment due to sexuality/orientation
  "Q629R5",          # Unfair treatment due to immigration status
  "Q629R6",          # Unfair treatment due to religion
  "Q629R7",          # Unfair treatment due to accent

  "Q627",            # Treated unfairly or discriminated against because of your race, ethnicity, gender, sexuality, being an immigrant, religious heritage or having an accent?
  "Q633",            # Discrimination impact on life satisfaction

  # Perceptions of discrimination
  "Q619_Q626R1",     # Perceptions of discrimination against Whites
  "Q619_Q626R2",     # Perceptions of discrimination against Blacks
  "Q619_Q626R3",     # Perceptions of discrimination against Asian Americans
  "Q619_Q626R4",     # Perceptions of discrimination against Native Americans
  "Q619_Q626R5",     # Perceptions of discrimination against Immigrants
  "Q619_Q626R6",     # Perceptions of discrimination against Latinos
  "Q619_Q626R7",     # Perceptions of discrimination against GaysAndLesbians
  "Q619_Q626R8"      # Perceptions of discrimination against Muslims
)

```

```{r echo=FALSE, results=FALSE}
# Create a new dataframe with selected variables
dataset_new <- dataset[, required_cols]

# Recode the outcome variable 'Q1R5' for readability
dataset_new$Q1R5 <- factor(
  ifelse(
    dataset_new$Q1R5 == "(0) NO TO: Stopping discrimination against racial/ethnic minorities", 
    "Not important",
    "Important"  # Remaining cases are "Important"
  ),
  levels = c("Not important", "Important") # Define factor levels
)

# Define the columns for perceptions of discrimination
perception_cols <- c(
  "Q619_Q626R1",  # Perceptions of discrimination against Whites
  "Q619_Q626R2",  # Perceptions of discrimination against Blacks
  "Q619_Q626R3",  # Perceptions of discrimination against Asian Americans
  "Q619_Q626R4",  # Perceptions of discrimination against Native Americans
  "Q619_Q626R5",  # Perceptions of discrimination against Immigrants
  "Q619_Q626R6",  # Perceptions of discrimination against Latinos
  "Q619_Q626R7",  # Perceptions of discrimination against GaysAndLesbians
  "Q619_Q626R8",  # Perceptions of discrimination against Muslims
  "Q633"          # Discrimination impact on life satisfaction
)

# Recode 'Don' as 'Don't know' and ensure columns remain factors
dataset_new[perception_cols] <- lapply(dataset_new[perception_cols], function(x) {
  x <- as.character(x)  # Temporarily convert to character for recoding
  x <- ifelse(x == "(5) Don", "(5) Don't know", x)  # Recode 'Don' to 'Don't know'
  factor(x)  # Convert back to factor
})

# Define required columns to convert to factors (if not already defined)
# Assuming `required_cols` is previously defined; otherwise, specify explicitly
dataset_new[required_cols] <- lapply(dataset_new[required_cols], as.factor)

# Verify the structure of the dataset
str(dataset_new[required_cols])

# Display the first few rows to check the changes
head(dataset_new)
```

```{r, echo=FALSE, results=FALSE}
# Data Cleaning and Recoding for dataset_new
dataset_clean_allvars <- dataset_new |> 
  mutate(
    # Education recoding
    educ = case_when(
      S13 == "(1) Grades 1-8" ~ "No college experience",
      S13 == "(2) Some High School, but did not graduate" ~ "No college experience",
      S13 == "(3) High School graduate or GED" ~ "No college experience",
      S13 == "(4) Some college" ~ "Some college experience",
      S13 == "(5) Associates, 2-year degree" ~ "College graduate",
      S13 == "(6) Bachelors, 4-year degree" ~ "College graduate",
      S13 == "(7) Post-graduate degree" ~ "College graduate"
    ),
    # Sexual orientation recoding
    sex_orientation = case_when(
      S3 == "(01) Straight, that is, not gay or lesbian" ~ "Straight",
      S3 == "(02) Gay or lesbian" ~ "Queer",
      S3 == "(03) Bisexual" ~ "Queer",
      S3 == "(04) Something else (Specify)" ~ "Queer",
      S3 == "(88) Refused" ~ "Refused/Don't Know",
      S3 == "(99) I don" ~ "Refused/Don't Know"
    ),
    # Urban vs rural recoding
    rural = case_when(
      S14 == "(1) Large urban area" ~ "Urban/suburban",
      S14 == "(2) Large suburb near large city" ~ "Urban/suburban",
      S14 == "(3) Small suburb near small town or city" ~ "Urban/suburban",
      S14 == "(4) Small town or small city" ~ "Urban/suburban",
      S14 == "(5) Rural area" ~ "Rural"
    ),
    # Race recoding
    race_recoded = case_when(
      S2_RACE_PRIME == "(1) White" ~ "White",
      S2_RACE_PRIME == "(2) Hispanic or Latino" ~ "Latino",
      S2_RACE_PRIME == "(3) Black or African American" ~ "Black",
      S2_RACE_PRIME == "(4) Asian American" ~ "Asian American",
      S2_RACE_PRIME == "(5) American Indian/Native American" ~ "AIAN",
      S2_RACE_PRIME == "(6) Arab, Middle Eastern or North African" ~ "Arab/MENA",
      S2_RACE_PRIME == "(7) Native Hawaiian" ~ "NHPI",
      S2_RACE_PRIME == "(8) Not Hawaiian, but other Pacific Islander" ~ "NHPI"
    ),
    # Age recoding
    age_recoded = case_when(
      S5_AGE == "(1) 16-17" ~ "16-17",
      S5_AGE == "(2) 18-29" ~ "18-29",
      S5_AGE == "(3) 30-39" ~ "30-39",
      S5_AGE == "(4) 40-49" ~ "40-49",
      S5_AGE == "(5) 50-59" ~ "50-59",
      S5_AGE == "(6) 60-69" ~ "60-69",
      S5_AGE == "(7) 70 +" ~ "70+"
    )
  ) |>
  mutate(
    # Converting variables to factors
    race_recoded = factor(race_recoded, levels = c("White", "Black", "Asian American", "Latino", "AIAN", "NHPI", "Arab/MENA")),
    age_recoded = factor(age_recoded, levels = c("18-29", "30-39", "40-49", "50-59", "60-69", "70+")),
    educ = factor(educ, levels = c("No college experience", "Some college experience", "College graduate")),
    rural = factor(rural, levels = c("Rural", "Urban/suburban")),
    sex_orientation = factor(sex_orientation, levels = c("Straight", "Queer", "Refused/Don't Know"))
  )

```

```{r echo=FALSE, results=FALSE}
# Remove all redundant columns
redundant_columns <- c("Q629R1", "Q629R2", "Q629R3", "Q629R4", 
                       "Q629R5", "Q629R6", "Q629R7",
                       "S2_RACE_PRIME", "S13", "S3", "S5_AGE","S14")

dataset_clean <- dataset_clean_allvars[, !(names(dataset_clean_allvars) %in% redundant_columns)]
```

```{r echo=FALSE, results=FALSE}
# Rename remaining columns in dataset_clean
colnames(dataset_clean) <- c(
  "ImportanceOfStoppingDiscriminationAgainstMinorities",  # Q1R5
  "Gender",                                               # S3B
  "TreatedUnfairlyOrDiscriminatedAgainst",                # Q627
  "DiscriminationImpactOnLifeSatisfaction",              # Q633
  "PerceptionsOfDiscriminationAgainstWhites",            # Q619_Q626R1
  "PerceptionsOfDiscriminationAgainstBlacks",            # Q619_Q626R2
  "PerceptionsOfDiscriminationAgainstAsianAmericans",    # Q619_Q626R3
  "PerceptionsOfDiscriminationAgainstNativeAmericans",   # Q619_Q626R4
  "PerceptionsOfDiscriminationAgainstImmigrants",        # Q619_Q626R5
  "PerceptionsOfDiscriminationAgainstLatinos",           # Q619_Q626R6
  "PerceptionsOfDiscriminationAgainstGaysAndLesbians",   # Q619_Q626R7
  "PerceptionsOfDiscriminationAgainstMuslims",           # Q619_Q626R8
  "Education",                                           # educ
  "SexOrientation",                                      # sex_orientation
  "Rural",                                               # rural
  "Race",                                                # race_recoded
  "Age"                                                  # age_recoded
)

```

```{r echo=FALSE, results=FALSE}
# Regression model - RQ2
base_model <- glm(ImportanceOfStoppingDiscriminationAgainstMinorities ~ Gender +
               TreatedUnfairlyOrDiscriminatedAgainst + 
               DiscriminationImpactOnLifeSatisfaction +
               PerceptionsOfDiscriminationAgainstWhites + 
               PerceptionsOfDiscriminationAgainstBlacks +
               PerceptionsOfDiscriminationAgainstAsianAmericans + 
               PerceptionsOfDiscriminationAgainstNativeAmericans + 
               PerceptionsOfDiscriminationAgainstImmigrants + 
               PerceptionsOfDiscriminationAgainstLatinos + 
               PerceptionsOfDiscriminationAgainstGaysAndLesbians + 
               PerceptionsOfDiscriminationAgainstMuslims +
               Education + 
                 SexOrientation +
                 Rural +
                 Race +
                 Age, 
             
             data = dataset_clean, family = "binomial")
```             


```{r echo=FALSE, results=FALSE}
# Regression Model with interaction term - RQ2
interaction_model <- glm(ImportanceOfStoppingDiscriminationAgainstMinorities ~ 
               TreatedUnfairlyOrDiscriminatedAgainst + 
               DiscriminationImpactOnLifeSatisfaction +
               PerceptionsOfDiscriminationAgainstWhites + 
               PerceptionsOfDiscriminationAgainstBlacks +
               PerceptionsOfDiscriminationAgainstAsianAmericans + 
               PerceptionsOfDiscriminationAgainstNativeAmericans + 
               PerceptionsOfDiscriminationAgainstImmigrants + 
               PerceptionsOfDiscriminationAgainstLatinos + 
               PerceptionsOfDiscriminationAgainstGaysAndLesbians + 
               PerceptionsOfDiscriminationAgainstMuslims +
               Education + 
                 SexOrientation +
                 Rural +
                 Age + 
                 Gender * Race,
               
             data = dataset_clean, family = "binomial")
```


```{r echo=FALSE, results=FALSE}

## Calculating Odds Ratio, Confidence Interval, and p-values (base model)

# Extract odds ratios
odds_ratios <- exp(coef(base_model))

# Get confidence intervals for coefficients
conf_intervals <- exp(confint(base_model))

# Extract p-values
p_values <- summary(base_model)$coefficients[, 4]

# Combine everything into a single data frame
results_base_model <- data.frame(
  OddsRatio = odds_ratios,
  LowerCI = conf_intervals[, 1],
  UpperCI = conf_intervals[, 2],
  PValue = p_values
)

# Display results
results_base_model
```




```{r echo=FALSE, results=FALSE}
# creating the analysis table for RQ2

names <- c("Intercept",
           "Gender: Women",
           "Gender: Non-Binary",
           "Gender: Something Else",
           "Treated Unfairly Or Discriminated Against: No", # Yes
           "Discrimination Impact On Life Satisfaction: Some", # A lot 
           "Discrimination Impact On Life Satisfaction: A Little",
           "Discrimination Impact On Life Satisfaction: Not At All",
           "Discrimination Impact On Life Satisfaction: Don't Know",
           "Discrimination Impact On Life Satisfaction: Refused",
           "Perceptions Of Discrimination Against Whites: Some", # A lot 
           "Perceptions Of Discrimination Against Whites: A Little",
           "Perceptions Of Discrimination Against Whites: None At All",
           "Perceptions Of Discrimination Against Whites: Don't Know",
           "Perceptions Of Discrimination Against Blacks: Some", # A lot 
           "Perceptions Of Discrimination Against Blacks: A Little",
           "Perceptions Of Discrimination Against Blacks: None At All",
           "Perceptions Of Discrimination Against Blacks: Don't Know",
           "Perceptions Of Discrimination Against Asian Americans: Some", # A lot 
           "Perceptions Of Discrimination Against Asian Americans: A Little",
           "Perceptions Of Discrimination Against Asian Americans: None At All",
           "Perceptions Of Discrimination Against Asian Americans: Don't Know",
           "Perceptions Of Discrimination Against Native Americans: Some", # A lot 
           "Perceptions Of Discrimination Against Native Americans: A Little",
           "Perceptions Of Discrimination Against Native Americans: None At All",
           "Perceptions Of Discrimination Against Native Americans: Don't Know",
           "Perceptions Of Discrimination Against Immigrants: Some", # A lot 
           "Perceptions Of Discrimination Against Immigrants: A Little",
           "Perceptions Of Discrimination Against Immigrants: None At All",
           "Perceptions Of Discrimination Against Immigrants: Don't Know",
           "Perceptions Of Discrimination Against Latinos: Some", # A lot 
           "Perceptions Of Discrimination Against Latinos: A Little",
           "Perceptions Of Discrimination Against Latinos: None At All",
           "Perceptions Of Discrimination Against Latinos: Don't Know",
           "Perceptions Of Discrimination Against Gays And Lesbians: Some", # A lot 
           "Perceptions Of Discrimination Against Gays And Lesbians: A Little",
           "Perceptions Of Discrimination Against Gays And Lesbians: None At All",
           "Perceptions Of Discrimination Against Gays And Lesbians: Don't Know",
           "Perceptions Of Discrimination Against Muslims: Some",# A lot 
           "Perceptions Of Discrimination Against Muslims: A Little",
           "Perceptions Of Discrimination Against Muslims: None At All",
           "Perceptions Of Discrimination Against Muslims: Don't Know",
           "Education: Some College Experience", # No College Experience
           "Education: College Graduate",
           "Orientation: Queer", #Straight
           "Orientation: Refused",
           "Community Type: Urban/Suburban", # Rural
           "Race: Black", # White
           "Race: Asian American",
           "Race: Latino",
           "Race: AIAN",
           "Race: NHPI",
           "Race: Arab/MENA",
           "Age: 30-39 Years", # 18-29
           "Age: 40-49 Years",
           "Age: 50-59 Years",
           "Age: 60-69 Years",
           "Age: 70+ Years"
           )

# Add row names as a new column
analysis_table <- cbind(RowName = names, results_base_model)

# Render the table
table <- analysis_table |>
  gt() |>
  tab_header(
    title = "Odds Ratios with Confidence Intervals and P-Values for base model"
  ) |>
  cols_label(
    RowName = "Description",  # Change the column header for the row names
    OddsRatio = "Odds Ratio",
    LowerCI = "Lower Confidence Interval",
    UpperCI = "Upper Confidence Interval",
    PValue = "P-Value"
  ) |>
  fmt_number(
    columns = c(OddsRatio, LowerCI, UpperCI),
    decimals = 4
  ) |>
  fmt_scientific(
    columns = c(PValue),
    decimals = 2  # Show p-values in scientific notation
  )

# View the table
#table

# Update the column names in the dataframe
colnames(analysis_table) <- c("Description", "Odds Ratio", "Lower Confidence Interval", 
                              "Upper Confidence Interval", "P-Value")


# View analysis table
#analysis_table

# View the updated dataframe
#head(analysis_table)



```


# ordinal model


# ```{r, echo=FALSE, results=FALSE}
# # data load and cleaning for ordinal regression model
# required_cols_ord <- c("Q29", # Outcome Variable; interest in politics
#                    "Q271", # Predictor Variable; importance of race to identity
#                    "S2_RACE_PRIME", # Race
#                    "S3", # Orientation
#                    "S3B", # Gender
#                    "S5_AGE", # Age Category
#                    "S13", # Educational Attainment
#                    "S14", # Community Type
#                    "S7", # Nativity
#                    "Q21", # Party ID
#                    "S2_M", # Multiracial
#                    
#                    # Religion-related variables
#                    "Q58R1",            # Catholic
#                    "Q58R2",            # Protestant
#                    "Q58R3",            # Other Christian
#                    "Q58R4",            # Jewish
#                    "Q58R5",            # Muslim
#                    "Q58R6",            # Hindu
#                    "Q58R7",            # Buddhist
#                    "Q58R8",            # Mormon/LDS
#                    "Q58R9",            # Folk Religion
#                    "Q58R10",           # Daoist
#                    "Q58R11",           # Shamanism
#                    "Q58R12",           # Ancestral Religion
#                    "Q58R13",           # Spiritual but not religious
#                    "Q58R14",           # Atheist
#                    "Q58R15",            # Agnostic
#                    
#                    # Variables capturing experiences with racism
#                    "Q627", # Treated unfairly or discriminated against ,
#                    "Q628", # Location of discrimination
#                    "Q629R1" # Unfair treatment due to racial background/ethnicity
#                    )
#                  
#                    
#                    
# # Create new df
# data_filtered <- dataset[, required_cols_ord]
# 
# # Convert the required columns to factors
# data_filtered[required_cols] <- lapply(data_filtered[required_cols_ord], as.factor)
# 
# # Convert individual religion columns to numeric
# for (i in 1:15) {
#   col_name <- paste0("Q58R", i, "_numeric")
#   data_filtered[[col_name]] <- as.numeric(sub("^\\((\\d+)\\).*", "\\1", data_filtered[[paste0("Q58R", i)]]))
# }
# 
# # Create a new Religion variable
# data_filtered$Religion <- "None"
# data_filtered$Religion[data_filtered$Q58R1_numeric == 1] <- "Catholic"
# data_filtered$Religion[data_filtered$Q58R2_numeric == 1] <- "Protestant"
# data_filtered$Religion[data_filtered$Q58R3_numeric == 1] <- "Other Christian"
# data_filtered$Religion[data_filtered$Q58R4_numeric == 1] <- "Jewish"
# data_filtered$Religion[data_filtered$Q58R5_numeric == 1] <- "Muslim"
# data_filtered$Religion[data_filtered$Q58R6_numeric == 1] <- "Hindu"
# data_filtered$Religion[data_filtered$Q58R7_numeric == 1] <- "Buddhist"
# data_filtered$Religion[data_filtered$Q58R8_numeric == 1] <- "Mormon/LDS"
# data_filtered$Religion[data_filtered$Q58R9_numeric == 1] <- "Folk Religion"
# data_filtered$Religion[data_filtered$Q58R10_numeric == 1] <- "Daoist"
# data_filtered$Religion[data_filtered$Q58R11_numeric == 1] <- "Shamanism"
# data_filtered$Religion[data_filtered$Q58R12_numeric == 1] <- "Ancestral Religion"
# data_filtered$Religion[data_filtered$Q58R13_numeric == 1] <- "Spiritual but not religious"
# data_filtered$Religion[data_filtered$Q58R14_numeric == 1] <- "Atheist"
# data_filtered$Religion[data_filtered$Q58R15_numeric == 1] <- "Agnostic"
# 
# # Convert Religion to a factor
# data_filtered$Religion <- factor(data_filtered$Religion,
#                                levels = c("Catholic", "Protestant", "Other Christian", "Jewish", "Muslim",
#                                           "Hindu", "Buddhist", "Mormon/LDS", "Folk Religion",
#                                           "Daoist", "Shamanism", "Ancestral Religion",
#                                           "Spiritual but not religious", "Atheist", "Agnostic", "None"))
# 
# # Remove redundant religion columns (Q58R1 to Q58R15 and their numeric versions)
# redundant_cols <- c(
#   "Q58R1", "Q58R2", "Q58R3", "Q58R4", "Q58R5", "Q58R6", "Q58R7", "Q58R8", 
#   "Q58R9", "Q58R10", "Q58R11", "Q58R12", "Q58R13", "Q58R14", "Q58R15",
#   "Q58R1_numeric", "Q58R2_numeric", "Q58R3_numeric", "Q58R4_numeric", 
#   "Q58R5_numeric", "Q58R6_numeric", "Q58R7_numeric", "Q58R8_numeric", 
#   "Q58R9_numeric", "Q58R10_numeric", "Q58R11_numeric", "Q58R12_numeric", 
#   "Q58R13_numeric", "Q58R14_numeric", "Q58R15_numeric"
# )
# 
# # Remove redundant columns from the dataset
# dataset_clean_ord <- data_filtered[, !(names(data_filtered) %in% redundant_cols)]
# 
# dataset_clean_ord <- dataset_clean_ord %>% mutate(educ = case_when(S13 == "(1) Grades 1-8" ~ "No college experience",
#                                                            S13 == "(2) Some High School, but did not graduate" ~ "No college experience",
#                                                            S13 == "(3) High School graduate or GED" ~ "No college experience",
#                                                            S13 == "(4) Some college" ~ "Some college experience",
#                                                            S13 == "(5) Associates, 2-year degree" ~ "College graduate",
#                                                            S13 == "(6) Bachelors, 4-year degree" ~ "College graduate",
#                                                            S13 == "(7) Post-graduate degree" ~ "College graduate"),
#                                           sex_orientation = case_when(S3 == "(01) Straight, that is, not gay or lesbian" ~ "Straight",
#                                                                      S3 == "(02) Gay or lesbian" ~ "Queer",
#                                                                      S3 == "(03) Bisexual" ~ "Queer",
#                                                                      S3 == "(04) Something else (Specify)" ~ "Queer",
#                                                                      S3 == "(88) Refused" ~ "Refused/Don't Know",
#                                                                      S3 == "(99) I don" ~ "Refused/Don't Know"),
#                                           rural = case_when(S14 == "(1) Large urban area" ~ "Urban/suburban",
#                                                             S14 == "(2) Large suburb near large city" ~ "Urban/suburban",
#                                                             S14 == "(3) Small suburb near small town or city" ~ "Urban/suburban",
#                                                             S14 == "(4) Small town or small city" ~ "Urban/suburban",
#                                                             S14 == "(5) Rural area" ~ "Rural"),
#                                           white = case_when(S2_RACE_PRIME == "(1) White" ~ "White", 
#                                                             S2_RACE_PRIME == "(2) Hispanic or Latino" ~ "Non-White",
#                                                             S2_RACE_PRIME == "(3) Black or African American" ~ "Non-White",
#                                                             S2_RACE_PRIME == "(4) Asian American" ~ "Non-White",
#                                                             S2_RACE_PRIME == "(5) American Indian/Native American" ~ "Non-White",
#                                                             S2_RACE_PRIME == "(6) Arab, Middle Eastern or North African" ~ "Non-White",
#                                                             S2_RACE_PRIME == "(7) Native Hawaiian" ~ "Non-White",
#                                                             S2_RACE_PRIME == "(8) Not Hawaiian, but other Pacific Islander" ~ "Non-White"),
#                                           race_recoded = case_when(S2_RACE_PRIME == "(1) White" ~ "White",
#                                                                    S2_RACE_PRIME == "(2) Hispanic or Latino" ~ "Latino",
#                                                                    S2_RACE_PRIME == "(3) Black or African American" ~ "Black",
#                                                                    S2_RACE_PRIME == "(4) Asian American" ~ "Asian American",
#                                                                    S2_RACE_PRIME == "(5) American Indian/Native American" ~ "AIAN",
#                                                                    S2_RACE_PRIME == "(6) Arab, Middle Eastern or North African" ~ "Arab/MENA",
#                                                                    S2_RACE_PRIME == "(7) Native Hawaiian" ~ "NHPI",
#                                                                    S2_RACE_PRIME == "(8) Not Hawaiian, but other Pacific Islander" ~ "NHPI"),
#                                           age_recoded = case_when(S5_AGE == "(1) 16-17" ~ "16-17",
#                                                                   S5_AGE == "(2) 18-29" ~ "18-29",
#                                                                   S5_AGE == "(3) 30-39" ~ "30-39",
#                                                                   S5_AGE == "(4) 40-49" ~ "40-49",
#                                                                   S5_AGE == "(5) 50-59" ~ "50-59",
#                                                                   S5_AGE == "(6) 60-69" ~ "60-69",
#                                                                   S5_AGE == "(7) 70 +" ~ "70+"))
# 
# dataset_clean_ord <- dataset_clean_ord %>% mutate(race_recoded = factor(dataset_clean_ord$race_recoded, levels = c("White", "Black", "Asian American", "Latino", "AIAN", "NHPI", "Arab/MENA")),
#                                          age_recoded = factor(dataset_clean_ord$age_recoded, levels = c("18-29", "30-39", "40-49", "50-59", "60-69", "70+")),
#                                          educ = factor(dataset_clean_ord$educ, levels = c("No college experience", "Some college experience", "College graduate")),
#                                          white = factor(dataset_clean_ord$white, levels = c("White", "Non-White")),
#                                          rural = factor(dataset_clean_ord$rural, levels= c("Rural", "Urban/suburban")),
#                                          sex_orientation = factor(dataset_clean_ord$sex_orientation, levels = c("Straight", "Queer", "Refused/Don't Know")))
# 
# 
# ```



# Abstract

Following the Immigration and Nationality Act of 1965, which allowed for increased immigration into the United States, the United States has become increasingly racially and ethnically diverse. However, studies of political participation and public opinion have often failed to include large samples of racial and ethnic minority Americans, limiting researchers from drawing conclusions on the attitudes of these groups. Using survey data from the 2020 Collaborative Multi-Racial Post-Election Survey, which includes oversamples of racial and ethnic minority populations in the U.S., we investigate the impact of racial identity and racism on political participation and public opinion. First, we analyze whether valuing belonging in a racial group can influence a respondent’s interest in politics. Then, we analyze how personal experiences with racism may influence how respondents value policies aimed at addressing racial and ethnic discrimination. Our findings suggest that racial group belonging is not associated with higher odds  of increased political interest, while gender identity, racial identity, and party affiliation may be associated with higher levels of political interest. Additionally, gender identity, racial identity, and personal experiences with discrimination may be associated with higher odds of increased levels of support for anti-discrimination policies.

# Introduction

The United States is becoming increasingly racially and ethnically diverse. In the decades following the 1965 Immigration and Nationality Act, the population of Americans born outside of the U.S. increased by more than 400% \[1\]. This increased diversity was also visible in the results from the 2020 decennial U.S. Census. According to data from the 2020 U.S. Census, the share of Americans that are White alone (and do not identify as any other race or ethnicity in addition to White) has declined by approximately 9% since 2010. In addition, the population of multiracial Americans has experienced a 276% increase since the 2010 decennial Census. The percentage of people who reported multiple races increased more than all of the single-race groups, increasing from approximately 3% of the population in 2010 to 10% of the population in 2020 \[2\].

As a result of these trends that have led to increased shares of non-white groups in the U.S. the electoral power of racial and ethnic minority groups has become more salient in American politics. Researchers, policymakers, and advocacy groups must understand the factors that drive political participation and issue preferences among racial and ethnic minority groups, as well as differences between groups. 

Researchers commonly understand the drivers for participation in American politics through the “resource model of political participation”, popularized by Henry E. Brady, Sidney Verba and Kay Lehman Schlozman \[3\]. This theory asserts that socioeconomic status predicts political participation, with a specific focus on resources such as time, money, and the organizational skills that are used to navigate civic life (“civic skills”). However, other scholars have pushed back on the generalizability of this theory for non-white groups, as these analyses were based on studies of white Americans and their conclusions may not hold true for members of minority groups \[4\]. In this study, we analyze how racial and ethnic minority groups navigate American politics and the factors that influence their political participation and issue preference. 

In a similar vein, researchers have studied whether racial and ethnic discrimination can have a causal effect on the political participation of minority communities. Recent studies on Latino Americans and Indian Americans \[5\] \[6\], have found mixed effects. We address how racial and ethnic discrimination may potentially shape the issue preferences of American voters in this study. 

Our analysis focuses on two topics within the field of racial and ethnic politics. 

1.  Are Americans who believe that their race is important to their identity more likely to be interested in politics than those that are not?

2.  How do personal experiences with racism, in combination with demographic factors such as race, gender, and education, influence the importance respondents place on policies aimed at addressing racial and ethnic discrimination, controlling for other social and political factors?

To investigate these two research questions, we used survey data from the 2020 Collaborative Multi-Racial Post-Election Survey (CMPS) \[7\]. The CMPS is an extensive dataset designed to capture perspectives across racial and ethnic groups in the United States. The survey was offered in multiple languages, including English, Spanish, Chinese, Korean, Vietnamese, Arabic, Urdu, Farsi, and Haitian Creole. 

# Methods

The 2020 Collaborative Multi-Racial Post-Election Survey (CMPS) dataset contains 17,545 rows, with each row representing an individual respondent's data, and 1,490 columns, each capturing a specific variable or question response. These variables include demographic information and responses to survey questions on political and social issues.

Prior to modelling, we conducted exploratory data analysis to examine relationships between our predictor and outcome variables. First, we created summary tables for multiple survey questions. Then, we conducted chi-square tests to understand the relationship between the categorical variables. Finally, we plotted the relationships between the outcome variables and demographic variables to account for potential differences for subgroups in our dataset. 

We streamlined the dataset by consolidating religious affiliations into a single categorical variable, Religion, with a new category, Multiple Religions, for respondents reporting more than one affiliation. Variables with over 50% missing values were excluded. Key demographic variables, including educational attainment, sexual orientation, and rurality were re-coded into simplified categories. Age and race were structured into meaningful groups. Extraneous variables were removed, and categorical variables were converted to ordered factors to ensure consistency and clarity for analysis.

To model the outcome variable, interest in participating in politics, in the first research question, we will use an ordinal logistic regression with predictors including the importance of belonging to a racial group to one’s identity, race, age, educational attainment, and political party affiliation. The outcome variable has levels “Not at all interested in politics”, “Not that interested in politics”, “Somewhat interested”, and “Very interested in politics”. We will also include an interaction term between gender and the importance of belonging to a racial group to one’s identity to assess whether the effect of the importance of belonging to a racial group on one’s identity differs based on one’s gender identity. To assess the model we will use a confusion matrix to compare predicted and observed values, and compare the model’s accuracy and no information rate. Finally, we will conduct a Brant test to provide additional evidence regarding whether the proportional odds assumption was violated. 

For the second research question, we will make use of a binomial logistic regression to model the outcome variable ’Importance placed on anti-discrimination policies’ with predictors including race, gender identity, sexual orientation, age, education, community type, experiences with racism, and perception of racism for different groups. Additionally, we will include an interaction term between gender and race to explore intersectionality theory and determine which model performs better. After selecting the better model, we will evaluate and assess its performance using various tests such as the confusion matrix, ROC, AUC, accuracy, and other relevant metrics.

# Results

### Research Question 1:

For the first research question, the outcome variable, interest in participating in politics, was modeled using ordinal logistic regression. Interest in participating in politics, an ordinal variable, captured responses to the question: “Some people are very interested in politics while other people can’t stand politics, how about you? Are you…” with response options “Very interested in politics”, “Somewhat interested”, “Not that interested in politics”, and “Not at all interested in politics.” The overall sample reported high levels of interest in politics, with 43% of respondents reporting that they were somewhat interested and one in four (25%) saying they were very interested in politics.

| Response to Q29                   | Count  | Share of Total Respondents |
|-----------------------------------|--------|----------------------------|
| Very interested in politics       | 4,306  | 25%                        |
| Somewhat interested               | 7,612  | 43%                        |
| Not that interested in politics   | 3,643  | 21%                        |
| Not at all interested in politics | 1,984  | 11%                        |
| Total                             | 17,545 | 100%                       |

The model also included the predictor variable regarding the importance of belonging to a racial group to one’s identity, a categorical variable that captured responses to the question: “How important is being [RACIAL GROUP] to your identity?”, with response options “Extremely important”, “Very important”, “Moderately important”, “Slightly important”, and “Not at all important”. The respondent’s identified racial group was brought into the survey question based on their prior survey responses. Over half (56%) of respondents reported that being a member of their racial group was very or extremely important to their identity. Only 23% of respondents said that being a member of their racial group was slightly or not at all important to their identity. 

The model also included multiple predictor variables that control for the impact of other aspects of a respondent’s identity, socioeconomic status, and political preferences These included demographic variables such as the primary race reported by a respondent, their age, and gender, as well as a respondent’s reported level of educational attainment and political party affiliation. Finally, the model included an interaction term between gender and the importance a respondent placed in belonging to their racial group to investigate whether the relationship between racial belonging and political interest differs depending on gender. This interaction term allows us to evaluate if the effect of racial belonging on political interest is different for males, females, non-binary respondents, or respondents who specified a different gender identity.


(Insert Odds Ratio Plot for RQ1)

Note: Some variable levels are excluded due to filtering for significant variables. To view the reference level for each variable group, please see the below table.

INSERT TABLE

Controlling for age, gender identity, educational attainment, and party affiliation, all racial groups in our sample reported lower odds of reporting a higher level of interest in politics compared to white respondents, except for Arab, Middle East & North African (MENA) respondents. However, the effects for respondents of Arab/MENA heritage was not statistically significant. The odds of Black respondents being in a higher level of interest in politics were 0.87 times as high as White respondents (CI: 0.79-0.95). The odds of Latino respondents being in a higher level of interest in politics were 0.79 times as high as White respondents (CI: 0.72-0.87). These effects were even more pronounced for smaller racial/ethnic minority groups. Asian Americans’ odds of reporting a higher level of interest in politics were 0.60 times as high as that of White respondents (CI: 0.54-0.65).

Increases in educational attainment were associated with higher odds of reporting a higher level of interest in politics. Respondents with some college experience had 1.53 times higher odds of being in a higher level of interest in politics than respondents with no college experience (CI: 1.40-1.66). Respondents who were college graduates had 2.23 times higher odds of being in a higher level of interest in politics than respondents with no college experience (CI: 2.07-2.40). This represents the strongest positive effect in our model.

Respondents in older age groups had odds of being in a higher level of interest in politics that were higher than individuals ages 18-29 years old. Respondents ages 60-69 years old had 1.32 times higher odds of being in a higher level of interest in politics than respondents ages 18-29 years old (CI: 1.21-1.45). Respondents that were 70+ had 1.69 times higher odds of being in a higher level of interest in politics than respondents ages 18-29 years old (CI: 1.51-1.89).

Regarding gender differences, women showed significantly lower odds of political interest compared to men (OR: 0.63, CI: 0.54-0.73). The reference group for the interaction term of the importance of racial belonging and gender identity is male respondents who reported that their belonging to a specific racial group is not at all important to their identity. Respondents who said that their belonging to a specific racial group was “Very important” to their racial identity had 1.19 times higher odds of reporting a higher level of interest in politics than this reference group (CI: 1.03-1.38). Respondents who said that their belonging to a specific racial group was “Extremely important” to their racial identity had 1.64 times higher odds than this reference group (CI: 1.42-1.90).

To determine if the ordinal logistic regression model violated the proportional odds assumption, we produced a confusion matrix. The confusion matrix revealed that the model had a low level of precision, with an accuracy value of 0.4503. The model’s accuracy is slightly higher than the No Information Rate (0.4339), indicating that the model does not perform much better than a random guess based on the distribution of respondents in various levels of the outcome variable, interest in politics. 

INSERT TABLE

The values for the sensitivity and specificity of the model for each class are present in the above table. The sensitivity of the model was low (below 0.20) for the levels “Very interested in politics”, “Not that interested in politics”, and “Not at all interested in politics.”.  The only level with a high sensitivity value was the response option of being “Somewhat interested” in politics, which had an associated sensitivity of 0.90. These results indicate that the model struggled to correctly identify respondents who were “Very interested”, “Not that interested”, or “Not at all interested” in politics. The specificity of the model was high for each level, except for the response option of being “Somewhat interested” in politics (Specificity: 0.16), indicating that the model classified a high rate of false positives for this level, and it was potentially overly biased to predicting that respondents were “Somewhat interested” in politics. 
We also produced a confusion matrix for a multinomial model with the same predictor variables. The confusion matrices were very similar, providing evidence that there is not a sizable difference in performance between the ordinal model and the multinomial model. In addition, we conducted a Brant test. The Brant test result indicated that there is not strong evidence that the proportional odds assumption was violated.


### Research Question 2:

For the second research question, the outcome variable ‘Importance placed on stopping discrimination against racial/ethnic minorities’ was modeled using binomial logistic regression. Despite the skewed distribution of the dependent variable—74.25% of respondents considered it "Not Important"—logistic regression is robust to such imbalances.

To examine factors influencing the importance of anti-discrimination policies, the model included predictors like personal experiences with racism (measured via ‘Unfair treatment or discrimination’ and its impact on life satisfaction), alongside demographic variables such as primary race, sexual orientation, gender, age, education, and community type. Variables Q629R1–Q629R7, which captured specific experiences of unfair treatment (e.g., due to race or gender), were excluded due to substantial missing data (>52%). However, this was justified since the broader question on ‘unfair treatment or discrimination’ retained the key essence of experiences with racism.

To investigate the factors influencing the importance respondents placed on anti-discrimination policies, we developed two regression models. The first, termed the "base model," excluded interaction terms. The second, the "interaction model," included an interaction term between ‘race’ and ‘gender’ to explore the principles of intersectionality theory.

We assessed multicollinearity in both models by calculating the normalized Variance Inflation Factor (VIF) values. In all cases, the VIF values (APPENDIX TABLE have made a vif at the end of the R code) were consistently below 2, indicating minimal correlation among predictors, suggesting that both models are robust and not significantly affected by multicollinearity.

To further assess the goodness-of-fit for the two models, a chi-square test was conducted with their residual degrees of freedom and deviance for were as follows:
-   Base Model: Residual Degrees of Freedom = 17,487, Residual Deviance = 17,934
-   Interaction Model: Residual Degrees of Freedom = 17,469, Residual Deviance = 17,913

The difference in deviance between the two models was 21.145 with 18 degrees of freedom, indicating the interaction model to be slightly superior. However, the p-value of 0.2722 exceeded the 0.05 significance level, suggesting that including the interaction term did not significantly improve the model fit. Consequently, the base model was selected as it was more parsimonious with comparable explanatory power.

The findings from the base model revealed that personal experiences with discrimination and certain demographic factors significantly influence the importance respondents place on policies aimed at addressing racial and ethnic discrimination. 

```{r}

# Filter for significant variables (p-value < 0.05)
significant_data <- analysis_table[analysis_table$`P-Value` < 0.05, ]

# Add a column for variable names to use in the plot (from the "Description" column)
significant_data <- significant_data |>
  mutate(Variable = Description)

# Create the plot
ggplot(significant_data, aes(x = `Odds Ratio`, y = Variable)) +
  geom_point(size = 4, color = "blue") +  # Add points for odds ratios
  geom_errorbarh(aes(xmin = `Lower Confidence Interval`, 
                     xmax = `Upper Confidence Interval`), 
                 height = 0.3, color = "black") +  # Add horizontal error bars
  geom_vline(xintercept = 1, linetype = "dashed", color = "red", size = 0.7) +  # Add a vertical reference line at Odds Ratio = 1
  labs(
    title = "Odds Ratio of Significant Variables",
    x = "Odds Ratio",
    y = "Variable"
  ) +
  theme_minimal() +  # Use a minimal theme for better aesthetics
  theme(
    axis.text.y = element_text(size = 6, color = "black"),  # Improve y-axis text readability
    axis.title.x = element_text(size = 12, face = "bold"),  # Highlight x-axis title
    axis.title.y = element_text(size = 12, face = "bold"),  # Highlight y-axis title
    plot.title = element_text(size = 14, face = "bold", hjust = 0.5),  # Center the title
    plot.margin = margin(1, 1, 1, 1, "cm"),  # Adjust margins
    axis.text.x = element_text(angle = 45, hjust = 1, size = 8),  # Reduce x-axis text size
    legend.text = element_text(size = 8),  # Reduce legend text size
    legend.title = element_text(size = 9)  # Reduce legend title size
  )

# Save the plot with larger dimensions
#ggsave("Significant_Variables_Plot_Enhanced.png", width = 40, height = 20)

```

As shown in the figure above, gender and race were the most consistent and influential predictors. Women had 1.25 times higher odds of prioritizing anti-discrimination policies than men, while Black respondents had 3.53 times higher odds than White respondents. Latino and Asian American respondents had 1.74 and 2.15 times higher odds, respectively, to emphasize such policies compared to their White counterparts. These results underscore the significance of addressing the unique experiences of marginalized groups, whose direct experiences with racism may shape their policy attitudes.

Additionally, individuals who perceive higher levels of discrimination against racial or ethnic groups tend to prioritize anti-discrimination policies. For example, those who believed there was "a little" discrimination against Blacks were 45% less likely to prioritize these policies compared to those who saw "a lot" of discrimination, demonstrating that personal perceptions of racial injustice are key in shaping views on anti-discrimination measures.
In contrast, education and sexual orientation did not have a statistically significant impact on prioritizing anti-discrimination policies. This reflects that, in this model, personal experiences of discrimination and perceptions of racial inequality have a more direct effect on attitudes toward such policies. While education and sexual orientation may influence political views in other contexts, they seem less relevant to attitudes on racial discrimination. The lack of significance for these variables may indicate that perceptions of racial or ethnic discrimination are stronger motivators for supporting anti-discrimination policies than other demographic factors.

The base model's evaluation (as shown in Table MODEL) provides insights into how personal experiences with discrimination and demographic factors influence the prioritization of anti-discrimination policies. The model achieved an overall accuracy of 74.48%, which closely aligns with the No Information Rate (NIR) of 74.25%, indicating that its performance is not significantly better than predicting the majority class.

From the confusion matrix in Table CONFUSION, it is evident that the model performs well in identifying respondents who did not prioritize anti-discrimination policies ("Not Important"), as reflected by its high specificity of 94.89%., However, it struggled with the sensitivity (recall) for the "Important" class, which was only 15.63%. This low sensitivity indicates that the model missed a large proportion of respondents who do prioritize these policies. Precision for the "Important" class was moderate at 51.46%, but the F1 score of 0.2397 highlights poor overall performance in identifying the minority class. The model's AUC (Area Under the Curve) value (see Fig. 2) of 0.72 suggests that it has a moderate ability to discriminate between the two classes, though it still falls short of ideal performance.

The balanced accuracy was 55.26%, reflecting the model’s challenges in handling class imbalance. Despite achieving statistical significance with McNemar’s test (p-value < 2e-16), the model’s predictions deviate considerably from the true data.
In conclusion, while the model effectively identifies respondents who do not prioritize anti-discrimination policies, it performs poorly in predicting those who do. This imbalance signals the need for improvement in predicting the minority class.


# Conclusion

In this analysis, we investigated whether valuing belonging in a racial group can influence a respondent’s interest in politics. We found that the higher levels of importance an individual placed in belonging to their specific racial group (reporting that belonging to their group was “Very important” or “Extremely important”) had a significant positive effect on their interest in politics when compared to male respondents who did not place a high level of importance on belonging to their specific racial group. Further research is needed to understand how an individual’s racial belonging can impact their political participation while controlling for other demographic characteristics.

Following the resource model of participation, age and increases in educational attainment appeared to be associated with higher odds of reporting a higher level of interest in politics. The most significant positive predictors of increased levels of interest in politics were an individual’s age and level of educational attainment. In particular, individuals who graduated from college had much higher odds of reporting a higher level of interest in politics than individuals with no college experience. This follows popular findings that educational attainment can lead to increases in political participation [8], and that older Americans vote at higher rates than Americans ages 18-29 years old [9]. 

For our second question, we analyzed how personal experiences with racism influence respondents' prioritization of policies addressing racial and ethnic discrimination. Our findings highlight the significant impact of race, gender, and lived experiences with discrimination, as well as the critical role of perceptions of racism against various groups in shaping public attitudes. These results underscore the complex social dynamics that drive policy preferences and provide valuable insights for designing targeted advocacy and policy efforts to address the unique experiences and needs of marginalized communities.

Despite the value of this survey’s oversamples of racial and ethnic minority communities, some limitations were present in our study. For the ordinal logistic regression, we used educational attainment as a proxy for socioeconomic status. This is a commonly used proxy measure in behavioral and social sciences [10]. Further research on the influence of socioeconomic status of political participation for racial/ethnic minorities and the use of other measures such as household income or wealth would help us understand if the aforementioned resource model of participation is indeed generalizable to other groups in the American electorate. 
The effect of race on political interest appeared to be more pronounced for members of very small racial/ethnic minority groups in our analysis such as Asian Americans, Native Americans, Native Hawaiians and Pacific Islanders. Both models had low specificity, suggesting that they struggled to correctly identify cases where respondents had low levels of political interest or respondents who considered anti-discrimination policies to be important. Similarly, in our second research question, while the model effectively identified respondents who do not prioritize anti-discrimination policies, it struggled to predict those who do. This imbalance underscores the challenges of accurately modeling the minority class—respondents who view anti-discrimination policies as important—and highlights the need for more nuanced approaches to capture these perspectives.

Overall, these challenges and opportunities highlight the importance of disaggregated data and further research in partnership with small racial and ethnic minority communities within the United States. Future work on political participation and public opinion among racial and ethnic minorities could support researchers, policymakers, and advocates in designing more inclusive policies and interventions. Additionally, incorporating qualitative methodologies, such as interviews or community-based participatory research, could provide richer context and amplify the voices of underrepresented communities. Longitudinal studies could also complement these efforts, capturing changes over time and offering deeper insights into the lived experiences of marginalized communities. By addressing these gaps, future research can better capture the diverse and intersectional realities of minority groups and contribute to more effective advocacy and policy efforts.

# References

1.    Noe-Bustamante, A. B., Christine Tamir, Lauren Mora and Luis. (2020, August 20). Facts on U.S. immigrants, 2018. Pew Research Center. https://www.pewresearch.org/race-and-ethnicity/2020/08/20/facts-on-u-s-immigrants/
2.    Jones, N., Marks, R., Ramirez, R., & Rios-Vargas, M. (2021, August 12). Improved Race and Ethnicity Measures Reveal U.S. Population Is Much More Multiracial. The United States Census Bureau. https://www.census.gov/library/stories/2021/08/improved-race-ethnicity-measures-reveal-united-states-population-much-more-multiracial.html
3.    Brady, H. E., Verba, S., & Schlozman, K. L. (1995). Beyond Ses: A Resource Model of Political Participation. The American Political Science Review, 89(2), 271–294. https://doi.org/10.2307/2082425
4.    Leighley, J. E. (2021). Strength in Numbers? Princeton University Press.
5.    Besco, R., Garcia-Rios, S., Lagodny, J., Lajevardi, N., Oskooii, K., & Tolley, E. (2022). Fight not flight: The effects of explicit racism on minority political engagement. Electoral Studies, 80, 102515. https://doi.org/10.1016/j.electstud.2022.102515
6.    Wood, Z. J., & John-Henderson, N. A. (2024). Perceived discrimination, political efficacy, and political participation in American Indian adults. Frontiers in Political Science, 6. https://doi.org/10.3389/fpos.2024.1328521
7.    Frasure, Lorrie, Wong, Janelle, Vargas, Edward, and Barreto, Matt. Collaborative Multi-racial Post-election Survey (CMPS), United States, 2020. Inter-university Consortium for Political and Social Research [distributor], 2024-06-11. https://doi.org/10.3886/ICPSR39096.v1
8.    Kim, Y. (2023). Absolutely Relative: How Education Shapes Voter Turnout in the United States. Social Indicators Research, 168(1-3), 447–469. https://doi.org/10.1007/s11205-023-03146-1
9.    McDonald, M. (n.d.). Voter Turnout Demographics [Review of Voter Turnout Demographics]. U.S. Elections Project. Retrieved December 13, 2024, from https://www.electproject.org/election-data/voter-turnout-demographics
10.   Oakes, M. (n.d.). Measuring Socioeconomic Status 1. Learning Objectives. https://obssr.od.nih.gov/sites/obssr/files/Measuring-Socioeconomic-Status.pdf

# Appendix

## Research Question 1

### Model Summary - OLR Model with Interactions
```{r}
dataset_clean_allvars$Q271_reordered <- factor(dataset_clean_allvars$Q271,
                            levels = c("(5) Not at all important",
                                     "(4) Slightly important",
                                     "(3) Moderately important",
                                     "(2) Very important",
                                     "(1) Extremely important"))
dataset_clean_allvars$Q29_reordered <- factor(dataset_clean_allvars$Q29,
                            levels = c("(4) Not at all interested in politics",
                                     "(3) Not that interested in politics",
                                     "(2) Somewhat interested",
                                     "(1) Very interested in politics"), ordered=TRUE)


ord_mod_interactions <- polr(Q29_reordered ~ Q271_reordered * S3B +
                               race_recoded +
                  age_recoded +
            educ +  # Educational Attainment
            Q21, # Party affiliation
          data = dataset_clean_allvars, Hess=TRUE)



summary(ord_mod_interactions)


pvals_interact <- pnorm(-abs(summary(ord_mod_interactions)$coef[,"t value"]))*2
ctable_interact <- cbind(summary(ord_mod_interactions)$coef,pvals_interact)

ctable_interact

(exp_coefs_interact <- exp(cbind(OR=coef(ord_mod_interactions),confint(ord_mod_interactions))))

head(ord_mod_interactions$fitted.values)
head(predict(ord_mod_interactions))

confusionMatrix(predict(ord_mod_interactions), dataset_clean$Q29, mode="everything")


```

### Odds Ratio Table 
| Variable | Odds Ratio | 2.5% (Confidence Interval) | 97.5% (Confidence Interval) |
|------------------|------------------|------------------|------------------|
| Q271 (4) Slightly important | 0.9672589 | 0.811845068 | 1.1525850 |
| Q271 (3) Moderately important | 0.9776608 | 0.845556718 | 1.1303745 |
| Q271 (2) Very important | 1.1952004 | 1.033019394 | 1.3828451 |
| Q271 (1) Extremely important | 1.6474969 | 1.423670208 | 1.9066091 |
| S3B(2) Woman | 0.6294256 | 0.540015144 | 0.7336072 |
| S3B(3) Non-binary | 1.8576658 | 1.002509318 | 3.4617409 |
| S3B(4) Something else (Specify) | 2.1359493 | 0.377740111 | 13.5124525 |
| race Black | 0.8676620 | 0.790376010 | 0.9524806 |
| race Asian American | 0.5945609 | 0.541964870 | 0.6522143 |
| race Latino | 0.7946622 | 0.575235415 | 0.7848896 |
| race AIAN | 0.6719204 | 1.27404185 | 1.7384045 |
| race NHPI | 0.5606006 | 0.458205702 | 0.6860792 |
| race Arab/MENA | 1.1589043 | 0.899447122 | 1.4956228 |
| age 30-39 | 1.0310801 | 0.946696738 | 1.0563119 |
| age 40-49 | 0.9247623 | 0.98549367 | 1.1229868 |
| age 50-59 | 1.0979487 | 1.000027913 | 1.2054892 |
| age 60-69 | 1.3238874 | 1.205240800 | 1.4542874 |
| age 70+ | 1.6896464 | 1.510226543 | 1.8907050 |
| educSome college experience | 1.5264694 | 1.402573135 | 1.6614197 |
| educCollege graduate | 2.2337286 | 2.072162224 | 2.4081069 |
| Q21(2) Democrat | 1.1333513 | 1.045765624 | 1.2282275 |
| Q21(3) Independent | 0.5806653 | 0.533801211 | 0.6315870 |
| Q21(4) Other party | 0.2127592 | 0.182654104 | 0.2477198 |
| Q271 4) Slightly important:S3B(2) Woman | 0.9955364 | 0.782564309 | 1.2663323 |
| Q271 (3) Moderately important:S3B(2) Woman | 0.9461281 | 0.780040309 | 1.1475378 |
| Q271 (2) Very important:S3B(2) Woman | 0.9791675 | 0.810674379 | 1.1826356 |
| Q271 (1) Extremely important:S3B(2) Woman | 0.8114102 | 0.674275440 | 0.9763646 |
| Q271 (4) Slightly important:S3B(3) Non-binary | 0.6505015 | 0.198565161 | 2.1505278 |
| Q271 (3) Moderately important:S3B(3) Non-binary | 0.6563254 | 0.249594245 | 1.7277048 |
| Q271 (2) Very important:S3B(3) Non-binary | 0.5140828 | 0.205132143 | 1.2905898 |
| Q271 (1) Extremely important:S3B(3) Non-binary | 0.8770903 | 0.354410521 | 2.1835545 |
| Q271 (4) Slightly important:S3B(4) Something else (Specify) | 0.2279084 | 0.023857021 | 2.0164000 |
| Q271 (3) Moderately important:S3B(4) Something else (Specify) | 1.7158304 | 0.146865519 | 19.7516328 |
| Q271 2) Very important:S3B(4) Something else (Specify) | 0.1049752 | 0.006213617 | 1.4210951 |
| Q271 1) Extremely important:S3B(4) Something else (Specify) | 0.6584933 | 0.079780177 | 4.9850479 |

## Research Question 2

### VIF Table 

```{r}
# Check multicollinearity using VIF
vif_base <- vif(base_model)
vif_interaction <- vif(interaction_model)
```

### Odds Ratio Table

## Table CONFUSION: Confusion Matrix for Base model
|                                      |                   |               |
|--------------------------------------|-------------------|---------------|
| [**Predicted / Actual**]{.underline} | **Not Important** | **Important** |
| **Not Important**                    | 12361             | 3812          |
| **Important**                        | 666               | 706           |

### Table MODEL: Base Model Statistics
|                           | Metric  |
|---------------------------|---------|
| Sensitivity (Recall)      | 0.1563  |
| Specificity               | 0.9489  |
| Precision                 | 0.5146  |
| F1                        | 0.2397  |
| Balanced Accuracy         | 0.5526  |
| No Information Rate (NIR) | 0.7425  |
| Kappa                     | 0.1361  |
| Mcnemar's Test P-Value    | \<2e-16 |



